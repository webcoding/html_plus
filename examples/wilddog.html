<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>wilddog</title>
<style>

</style>
</head>
<body>
<!-- <blockquote>
  <p>示例代码。</p>
</blockquote> -->
输入 appId : https://<input type="text" id="appId" value="devdocs" style="text-align: right;width:60px"/>.wilddogio.com
<input type="button"  onclick="onValue()" value="关注"/>
<hr>
JSON 数据树:
<br>
<textarea style="width:400px; height: 300px" id="tx">


</textarea>
<input type="button"  onclick="onUpdate()" value="更新"/>

  <dl>
    <dt>参见：</dt>
    <dd>链接</dd>
  </dl>
</body>
<script src="https://cdn.jsdelivr.net/vue/1.0.24/vue.js"></script>
<script src = "https://cdn.wilddog.com/js/client/current/wilddog.js" ></script>
<script>
var tx = document.getElementById("tx");
  var appIdDom = document.getElementById("appId");
  function onValue() {
    var appId = appIdDom.value;
    var url = "https://" +appId+ ".wilddogio.com";
    var ref = new Wilddog(url);
    ref.on("value", function(snapshot) {
      console.log(snapshot.val());
      tx.innerHTML = JSON.stringify(snapshot.val(), null, '\t');
    });
  }
  function onUpdate() {
    var appId = appIdDom.value;
    var url = "https://" +appId+ ".wilddogio.com";
    var ref = new Wilddog(url);
    ref.child('test_sync').set("hello world");
    ref.on("value", function(snapshot) {
      console.log(snapshot.val());
      tx.innerHTML = JSON.stringify(snapshot.val(), null, '\t');
    });
  }
</script>
</html>
